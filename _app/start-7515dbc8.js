var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,s=Object.getOwnPropertySymbols,r=Object.prototype.propertyIsEnumerable,n=(t,s,r)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[s]=r,o=(e,o)=>{for(var a in o||(o={}))t.call(o,a)&&n(e,a,o[a]);if(s)for(var a of s(o))r.call(o,a)&&n(e,a,o[a]);return e};import{S as a,i,s as l,e as c,t as u,c as h,a as p,b as f,d,f as m,g,h as $,j as v,k as y,l as _,n as x,m as b,o as w,p as E,q as j,r as R,u as O,v as T,w as q,x as L,y as k,z as S,A as P,B as A,C as I,D as V,E as D,F as N,G as U}from"./chunks/index-b2d6eaf9.js";function C(e){let t,s,r=e[1].stack+"";return{c(){t=c("pre"),s=u(r)},l(e){t=h(e,"PRE",{});var n=p(t);s=f(n,r),n.forEach(d)},m(e,r){m(e,t,r),g(t,s)},p(e,t){2&t&&r!==(r=e[1].stack+"")&&$(s,r)},d(e){e&&d(t)}}}function B(e){let t,s,r,n,o,a,i,l=e[1].message+"",b=e[1].stack&&C(e);return{c(){t=c("h1"),s=u(e[0]),r=v(),n=c("p"),o=u(l),a=v(),b&&b.c(),i=y()},l(c){t=h(c,"H1",{});var u=p(t);s=f(u,e[0]),u.forEach(d),r=_(c),n=h(c,"P",{});var m=p(n);o=f(m,l),m.forEach(d),a=_(c),b&&b.l(c),i=y()},m(e,l){m(e,t,l),g(t,s),m(e,r,l),m(e,n,l),g(n,o),m(e,a,l),b&&b.m(e,l),m(e,i,l)},p(e,[t]){1&t&&$(s,e[0]),2&t&&l!==(l=e[1].message+"")&&$(o,l),e[1].stack?b?b.p(e,t):(b=C(e),b.c(),b.m(i.parentNode,i)):b&&(b.d(1),b=null)},i:x,o:x,d(e){e&&d(t),e&&d(r),e&&d(n),e&&d(a),b&&b.d(e),e&&d(i)}}}function M(e,t,s){let{status:r}=t,{error:n}=t;return e.$$set=e=>{"status"in e&&s(0,r=e.status),"error"in e&&s(1,n=e.error)},[r,n]}class K extends a{constructor(e){super(),i(this,e,M,B,l,{status:0,error:1})}}function z(e){let t,s,r;const n=[e[4]||{}];var o=e[2][1];function a(e){let t={};for(let s=0;s<n.length;s+=1)t=b(t,n[s]);return{props:t}}return o&&(t=new o(a())),{c(){t&&E(t.$$.fragment),s=y()},l(e){t&&j(t.$$.fragment,e),s=y()},m(e,n){t&&R(t,e,n),m(e,s,n),r=!0},p(e,r){const i=16&r?O(n,[T(e[4]||{})]):{};if(o!==(o=e[2][1])){if(t){I();const e=t;L(e.$$.fragment,1,0,(()=>{k(e,1)})),V()}o?(t=new o(a()),E(t.$$.fragment),q(t.$$.fragment,1),R(t,s.parentNode,s)):t=null}else o&&t.$set(i)},i(e){r||(t&&q(t.$$.fragment,e),r=!0)},o(e){t&&L(t.$$.fragment,e),r=!1},d(e){e&&d(s),t&&k(t,e)}}}function W(e){let t,s;return t=new K({props:{status:e[0],error:e[1]}}),{c(){E(t.$$.fragment)},l(e){j(t.$$.fragment,e)},m(e,r){R(t,e,r),s=!0},p(e,s){const r={};1&s&&(r.status=e[0]),2&s&&(r.error=e[1]),t.$set(r)},i(e){s||(q(t.$$.fragment,e),s=!0)},o(e){L(t.$$.fragment,e),s=!1},d(e){k(t,e)}}}function G(e){let t,s,r,n;const o=[W,z],a=[];function i(e,t){return e[1]?0:1}return t=i(e),s=a[t]=o[t](e),{c(){s.c(),r=y()},l(e){s.l(e),r=y()},m(e,s){a[t].m(e,s),m(e,r,s),n=!0},p(e,n){let l=t;t=i(e),t===l?a[t].p(e,n):(I(),L(a[l],1,1,(()=>{a[l]=null})),V(),s=a[t],s?s.p(e,n):(s=a[t]=o[t](e),s.c()),q(s,1),s.m(r.parentNode,r))},i(e){n||(q(s),n=!0)},o(e){L(s),n=!1},d(e){a[t].d(e),e&&d(r)}}}function Y(e){let t,s=e[6]&&F(e);return{c(){t=c("div"),s&&s.c(),this.h()},l(e){t=h(e,"DIV",{id:!0,"aria-live":!0,"aria-atomic":!0,class:!0});var r=p(t);s&&s.l(r),r.forEach(d),this.h()},h(){w(t,"id","svelte-announcer"),w(t,"aria-live","assertive"),w(t,"aria-atomic","true"),w(t,"class","svelte-1j55zn5")},m(e,r){m(e,t,r),s&&s.m(t,null)},p(e,r){e[6]?s?s.p(e,r):(s=F(e),s.c(),s.m(t,null)):s&&(s.d(1),s=null)},d(e){e&&d(t),s&&s.d()}}}function F(e){let t,s;return{c(){t=u("Navigated to "),s=u(e[7])},l(r){t=f(r,"Navigated to "),s=f(r,e[7])},m(e,r){m(e,t,r),m(e,s,r)},p(e,t){128&t&&$(s,e[7])},d(e){e&&d(t),e&&d(s)}}}function H(e){let t,s,r,n;const o=[e[3]||{}];let a={$$slots:{default:[G]},$$scope:{ctx:e}};for(let l=0;l<o.length;l+=1)a=b(a,o[l]);t=new e[8]({props:a});let i=e[5]&&Y(e);return{c(){E(t.$$.fragment),s=v(),i&&i.c(),r=y()},l(e){j(t.$$.fragment,e),s=_(e),i&&i.l(e),r=y()},m(e,o){R(t,e,o),m(e,s,o),i&&i.m(e,o),m(e,r,o),n=!0},p(e,[s]){const n=8&s?O(o,[T(e[3]||{})]):{};2071&s&&(n.$$scope={dirty:s,ctx:e}),t.$set(n),e[5]?i?i.p(e,s):(i=Y(e),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},i(e){n||(q(t.$$.fragment,e),n=!0)},o(e){L(t.$$.fragment,e),n=!1},d(e){k(t,e),e&&d(s),i&&i.d(e),e&&d(r)}}}function J(e,t,s){let{status:r}=t,{error:n}=t,{stores:o}=t,{page:a}=t,{components:i}=t,{props_0:l=null}=t,{props_1:c=null}=t;const u=i[0];S("__svelte__",o),P(o.page.notify);let h=!1,p=!1,f=null;return A((()=>{const e=o.page.subscribe((()=>{h&&(s(6,p=!0),s(7,f=document.title))}));return s(5,h=!0),e})),e.$$set=e=>{"status"in e&&s(0,r=e.status),"error"in e&&s(1,n=e.error),"stores"in e&&s(9,o=e.stores),"page"in e&&s(10,a=e.page),"components"in e&&s(2,i=e.components),"props_0"in e&&s(3,l=e.props_0),"props_1"in e&&s(4,c=e.props_1)},e.$$.update=()=>{1536&e.$$.dirty&&o.page.set(a)},[r,n,i,l,c,h,p,f,u,o,a]}class X extends a{constructor(e){super(),i(this,e,J,H,l,{status:0,error:1,stores:9,page:10,components:2,props_0:3,props_1:4})}}let Q;const Z={},ee=function(e,t){if(!t)return e();if(void 0===Q){const e=document.createElement("link").relList;Q=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if(e in Z)return;Z[e]=!0;const t=e.endsWith(".css"),s=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${s}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":Q,t||(r.as="script",r.crossOrigin=""),r.href=e,document.head.appendChild(r),t?new Promise(((e,t)=>{r.addEventListener("load",e),r.addEventListener("error",t)})):void 0}))).then((()=>e()))};function te(e){let t,s,r;const n=e[4].default,o=D(n,e,e[3],null);return{c(){t=c("a"),o&&o.c(),this.h()},l(e){t=h(e,"A",{"aria-current":!0,href:!0,class:!0});var s=p(t);o&&o.l(s),s.forEach(d),this.h()},h(){w(t,"aria-current",s=e[1]===e[2]||void 0===e[1]&&"."===e[2]?"page":void 0),w(t,"href",e[2]),w(t,"class","svelte-1jg4p4e"),N(t,"level-0",0==e[0])},m(e,s){m(e,t,s),o&&o.m(t,null),r=!0},p(e,[a]){o&&o.p&&8&a&&U(o,n,e,e[3],a,null,null),(!r||6&a&&s!==(s=e[1]===e[2]||void 0===e[1]&&"."===e[2]?"page":void 0))&&w(t,"aria-current",s),(!r||4&a)&&w(t,"href",e[2]),1&a&&N(t,"level-0",0==e[0])},i(e){r||(q(o,e),r=!0)},o(e){L(o,e),r=!1},d(e){e&&d(t),o&&o.d(e)}}}function se(e,t,s){let{$$slots:r={},$$scope:n}=t,{level:o}=t,{segment:a}=t,{href:i}=t;return e.$$set=e=>{"level"in e&&s(0,o=e.level),"segment"in e&&s(1,a=e.segment),"href"in e&&s(2,i=e.href),"$$scope"in e&&s(3,n=e.$$scope)},[o,a,i,n,r]}class re extends a{constructor(e){super(),i(this,e,se,te,l,{level:0,segment:1,href:2})}}function ne(e){let t;return{c(){t=u("home")},l(e){t=f(e,"home")},m(e,s){m(e,t,s)},d(e){e&&d(t)}}}function oe(e){let t;return{c(){t=u("reveals")},l(e){t=f(e,"reveals")},m(e,s){m(e,t,s)},d(e){e&&d(t)}}}function ae(e){let t;return{c(){t=u("hovers")},l(e){t=f(e,"hovers")},m(e,s){m(e,t,s)},d(e){e&&d(t)}}}function ie(e){let t;return{c(){t=u("css box reflect")},l(e){t=f(e,"css box reflect")},m(e,s){m(e,t,s)},d(e){e&&d(t)}}}function le(e){let t;return{c(){t=u("full-height-hero")},l(e){t=f(e,"full-height-hero")},m(e,s){m(e,t,s)},d(e){e&&d(t)}}}function ce(e){let t;return{c(){t=u("forms")},l(e){t=f(e,"forms")},m(e,s){m(e,t,s)},d(e){e&&d(t)}}}function ue(e){let t;return{c(){t=u("three")},l(e){t=f(e,"three")},m(e,s){m(e,t,s)},d(e){e&&d(t)}}}function he(e){let t,s,r,n,o,a,i,l,$,y,x,b,O,T,S,P,A,I,V,D,N,U,C,B,M,K,z,W,G,Y;return s=new re({props:{segment:e[0],href:"/",level:"0",$$slots:{default:[ne]},$$scope:{ctx:e}}}),$=new re({props:{segment:e[0],href:"/examples/reveals",$$slots:{default:[oe]},$$scope:{ctx:e}}}),x=new re({props:{segment:e[0],href:"/examples/hovers",$$slots:{default:[ae]},$$scope:{ctx:e}}}),O=new re({props:{segment:e[0],href:"/examples/css-box-reflect",$$slots:{default:[ie]},$$scope:{ctx:e}}}),D=new re({props:{segment:e[0],href:"/templates/full-height-hero",$$slots:{default:[le]},$$scope:{ctx:e}}}),U=new re({props:{segment:e[0],href:"/templates/forms",$$slots:{default:[ce]},$$scope:{ctx:e}}}),G=new re({props:{segment:e[0],href:"/3rd-party/three",$$slots:{default:[ue]},$$scope:{ctx:e}}}),{c(){t=c("nav"),E(s.$$.fragment),r=v(),n=c("div"),o=c("button"),a=u("Examples"),i=v(),l=c("div"),E($.$$.fragment),y=v(),E(x.$$.fragment),b=v(),E(O.$$.fragment),T=v(),S=c("div"),P=c("button"),A=u("Templates"),I=v(),V=c("div"),E(D.$$.fragment),N=v(),E(U.$$.fragment),C=v(),B=c("div"),M=c("button"),K=u("3rd party"),z=v(),W=c("div"),E(G.$$.fragment),this.h()},l(e){t=h(e,"NAV",{class:!0});var c=p(t);j(s.$$.fragment,c),r=_(c),n=h(c,"DIV",{class:!0});var u=p(n);o=h(u,"BUTTON",{class:!0});var m=p(o);a=f(m,"Examples"),m.forEach(d),i=_(u),l=h(u,"DIV",{class:!0});var g=p(l);j($.$$.fragment,g),y=_(g),j(x.$$.fragment,g),b=_(g),j(O.$$.fragment,g),g.forEach(d),u.forEach(d),T=_(c),S=h(c,"DIV",{class:!0});var v=p(S);P=h(v,"BUTTON",{class:!0});var w=p(P);A=f(w,"Templates"),w.forEach(d),I=_(v),V=h(v,"DIV",{class:!0});var E=p(V);j(D.$$.fragment,E),N=_(E),j(U.$$.fragment,E),E.forEach(d),v.forEach(d),C=_(c),B=h(c,"DIV",{class:!0});var R=p(B);M=h(R,"BUTTON",{class:!0});var q=p(M);K=f(q,"3rd party"),q.forEach(d),z=_(R),W=h(R,"DIV",{class:!0});var L=p(W);j(G.$$.fragment,L),L.forEach(d),R.forEach(d),c.forEach(d),this.h()},h(){w(o,"class","svelte-1i9h66j"),w(l,"class","dropdown-content svelte-1i9h66j"),w(n,"class","dropdown svelte-1i9h66j"),w(P,"class","svelte-1i9h66j"),w(V,"class","dropdown-content svelte-1i9h66j"),w(S,"class","dropdown svelte-1i9h66j"),w(M,"class","svelte-1i9h66j"),w(W,"class","dropdown-content svelte-1i9h66j"),w(B,"class","dropdown svelte-1i9h66j"),w(t,"class","svelte-1i9h66j")},m(e,c){m(e,t,c),R(s,t,null),g(t,r),g(t,n),g(n,o),g(o,a),g(n,i),g(n,l),R($,l,null),g(l,y),R(x,l,null),g(l,b),R(O,l,null),g(t,T),g(t,S),g(S,P),g(P,A),g(S,I),g(S,V),R(D,V,null),g(V,N),R(U,V,null),g(t,C),g(t,B),g(B,M),g(M,K),g(B,z),g(B,W),R(G,W,null),Y=!0},p(e,[t]){const r={};1&t&&(r.segment=e[0]),2&t&&(r.$$scope={dirty:t,ctx:e}),s.$set(r);const n={};1&t&&(n.segment=e[0]),2&t&&(n.$$scope={dirty:t,ctx:e}),$.$set(n);const o={};1&t&&(o.segment=e[0]),2&t&&(o.$$scope={dirty:t,ctx:e}),x.$set(o);const a={};1&t&&(a.segment=e[0]),2&t&&(a.$$scope={dirty:t,ctx:e}),O.$set(a);const i={};1&t&&(i.segment=e[0]),2&t&&(i.$$scope={dirty:t,ctx:e}),D.$set(i);const l={};1&t&&(l.segment=e[0]),2&t&&(l.$$scope={dirty:t,ctx:e}),U.$set(l);const c={};1&t&&(c.segment=e[0]),2&t&&(c.$$scope={dirty:t,ctx:e}),G.$set(c)},i(e){Y||(q(s.$$.fragment,e),q($.$$.fragment,e),q(x.$$.fragment,e),q(O.$$.fragment,e),q(D.$$.fragment,e),q(U.$$.fragment,e),q(G.$$.fragment,e),Y=!0)},o(e){L(s.$$.fragment,e),L($.$$.fragment,e),L(x.$$.fragment,e),L(O.$$.fragment,e),L(D.$$.fragment,e),L(U.$$.fragment,e),L(G.$$.fragment,e),Y=!1},d(e){e&&d(t),k(s),k($),k(x),k(O),k(D),k(U),k(G)}}}function pe(e,t,s){let{segment:r}=t;return e.$$set=e=>{"segment"in e&&s(0,r=e.segment)},[r]}class fe extends a{constructor(e){super(),i(this,e,pe,he,l,{segment:0})}}function de(e){let t,s,r,n;const o=e[2].default,a=D(o,e,e[1],null);return r=new fe({props:{segment:e[0]}}),{c(){t=c("main"),a&&a.c(),s=v(),E(r.$$.fragment),this.h()},l(e){t=h(e,"MAIN",{class:!0});var n=p(t);a&&a.l(n),n.forEach(d),s=_(e),j(r.$$.fragment,e),this.h()},h(){w(t,"class","svelte-14wfx85")},m(e,o){m(e,t,o),a&&a.m(t,null),m(e,s,o),R(r,e,o),n=!0},p(e,[t]){a&&a.p&&2&t&&U(a,o,e,e[1],t,null,null);const s={};1&t&&(s.segment=e[0]),r.$set(s)},i(e){n||(q(a,e),q(r.$$.fragment,e),n=!0)},o(e){L(a,e),L(r.$$.fragment,e),n=!1},d(e){e&&d(t),a&&a.d(e),e&&d(s),k(r,e)}}}function me(e,t,s){let{$$slots:r={},$$scope:n}=t,{segment:o}=t;return e.$$set=e=>{"segment"in e&&s(0,o=e.segment),"$$scope"in e&&s(1,n=e.$$scope)},[o,n,r]}var ge=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:class extends a{constructor(e){super(),i(this,e,me,de,l,{segment:0})}}});const $e=[()=>ee((()=>import("./pages/index.svelte-f5b10a29.js")),["/_app/pages/index.svelte-f5b10a29.js","/_app/assets/pages/index.svelte-e89955b6.css","/_app/chunks/index-b2d6eaf9.js","/_app/chunks/Container-e350b963.js","/_app/assets/Container-705284c7.css"]),()=>ee((()=>import("./pages/3rd-party/three.svelte-e261ea2c.js")),["/_app/pages/3rd-party/three.svelte-e261ea2c.js","/_app/assets/pages/3rd-party/three.svelte-36512a46.css","/_app/chunks/index-b2d6eaf9.js"]),()=>ee((()=>import("./pages/templates/full-height-hero.svelte-35208263.js")),["/_app/pages/templates/full-height-hero.svelte-35208263.js","/_app/assets/pages/templates/full-height-hero.svelte-a8e88c51.css","/_app/chunks/index-b2d6eaf9.js","/_app/chunks/Container-e350b963.js","/_app/assets/Container-705284c7.css"]),()=>ee((()=>import("./pages/templates/forms.svelte-3777d525.js")),["/_app/pages/templates/forms.svelte-3777d525.js","/_app/assets/pages/templates/forms.svelte-6d6b98ea.css","/_app/chunks/index-b2d6eaf9.js","/_app/chunks/Container-e350b963.js","/_app/assets/Container-705284c7.css"]),()=>ee((()=>import("./pages/examples/css-box-reflect.svelte-daf574d3.js")),["/_app/pages/examples/css-box-reflect.svelte-daf574d3.js","/_app/assets/pages/examples/css-box-reflect.svelte-a46707d5.css","/_app/chunks/index-b2d6eaf9.js"]),()=>ee((()=>import("./pages/examples/reveals.svelte-459ca27f.js")),["/_app/pages/examples/reveals.svelte-459ca27f.js","/_app/assets/pages/examples/reveals.svelte-9dc942e4.css","/_app/chunks/index-b2d6eaf9.js","/_app/chunks/Container-e350b963.js","/_app/assets/Container-705284c7.css","/_app/chunks/Square-9007aef1.js","/_app/assets/Square-44f2c62b.css"]),()=>ee((()=>import("./pages/examples/hovers.svelte-1c7bdb0d.js")),["/_app/pages/examples/hovers.svelte-1c7bdb0d.js","/_app/assets/pages/examples/hovers.svelte-d08a5122.css","/_app/chunks/index-b2d6eaf9.js","/_app/chunks/Container-e350b963.js","/_app/assets/Container-705284c7.css","/_app/chunks/Square-9007aef1.js","/_app/assets/Square-44f2c62b.css"])],ve=[[/^\/$/,[$e[0]]],[/^\/3rd-party\/three\/?$/,[$e[1]]],[/^\/templates\/full-height-hero\/?$/,[$e[2]]],[/^\/templates\/forms\/?$/,[$e[3]]],[/^\/examples\/css-box-reflect\/?$/,[$e[4]]],[/^\/examples\/reveals\/?$/,[$e[5]]],[/^\/examples\/hovers\/?$/,[$e[6]]]];function ye(e){for(;e&&"A"!==e.nodeName.toUpperCase();)e=e.parentNode;return e}const _e=[];function xe(e,t=x){let s;const r=[];function n(t){if(l(e,t)&&(e=t,s)){const t=!_e.length;for(let s=0;s<r.length;s+=1){const t=r[s];t[1](),_e.push(t,e)}if(t){for(let e=0;e<_e.length;e+=2)_e[e][0](_e[e+1]);_e.length=0}}}return{set:n,update:function(t){n(t(e))},subscribe:function(o,a=x){const i=[o,a];return r.push(i),1===r.length&&(s=t(n)||x),o(e),()=>{const e=r.indexOf(i);-1!==e&&r.splice(e,1),0===r.length&&(s(),s=null)}}}}function be(){return{x:pageXOffset,y:pageYOffset}}class we{constructor({base:e,routes:t}){this.base=e,this.routes=t}init(e){let t;this.renderer=e,e.router=this,"scrollRestoration"in history&&(history.scrollRestoration="manual"),addEventListener("beforeunload",(()=>{history.scrollRestoration="auto"})),addEventListener("load",(()=>{history.scrollRestoration="manual"})),addEventListener("scroll",(()=>{clearTimeout(t),t=setTimeout((()=>{const e=o(o({},history.state||{}),{"sveltekit:scroll":be()});history.replaceState(e,document.title,window.location.href)}),50)})),addEventListener("click",(e=>{if(e.button||1!==e.which)return;if(e.metaKey||e.ctrlKey||e.shiftKey||e.altKey)return;if(e.defaultPrevented)return;const t=ye(e.target);if(!t)return;if(!t.href)return;const s="object"==typeof t.href&&"SVGAnimatedString"===t.href.constructor.name,r=String(s?t.href.baseVal:t.href);if(r===location.href)return void(location.hash||e.preventDefault());if(t.hasAttribute("download")||"external"===t.getAttribute("rel"))return;if(s?t.target.baseVal:t.target)return;const n=new URL(r);if(n.pathname===location.pathname&&n.search===location.search)return;const o=this.parse(n);if(o){const s=t.hasAttribute("sveltekit:noscroll");history.pushState({},"",n.href),this._navigate(o,s?be():null,[],n.hash),e.preventDefault()}})),addEventListener("popstate",(e=>{if(e.state){const t=new URL(location.href),s=this.parse(t);s?this._navigate(s,e.state["sveltekit:scroll"],[]):location.href=location.href}})),document.body.setAttribute("tabindex","-1"),history.replaceState(history.state||{},"",location.href)}parse(e){if(e.origin!==location.origin)return null;if(!e.pathname.startsWith(this.base))return null;const t=e.pathname.slice(this.base.length)||"/",s=this.routes.filter((([e])=>e.test(t)));if(s.length>0){const r=new URLSearchParams(e.search);return{id:`${t}?${r}`,routes:s,path:t,query:r}}}async goto(e,{noscroll:t=!1,replaceState:s=!1}={},r){const n=new URL(e,function(e){let t=e.baseURI;if(!t){const s=e.getElementsByTagName("base");t=s.length?s[0].href:e.URL}return t}(document)),o=this.parse(n);return o?(history[s?"replaceState":"pushState"]({},"",e),this._navigate(o,t?be():null,r,n.hash)):(location.href=e,new Promise((()=>{})))}async _navigate(e,t,s,r){this.renderer.notify({path:e.path,query:e.query}),location.pathname.endsWith("/")&&"/"!==location.pathname&&history.replaceState({},"",`${location.pathname.slice(0,-1)}${location.search}`),await this.renderer.update(e,s),document.body.focus();const n=r&&document.getElementById(r.slice(1));t?scrollTo(t.x,t.y):n?scrollTo(0,n.getBoundingClientRect().top+scrollY):scrollTo(0,0)}}function Ee(e){if(e.error){const t="string"==typeof e.error?new Error(e.error):e.error,s=e.status;return t instanceof Error?!s||s<400||s>599?(console.warn('"error" returned from load() without a valid status code â€” defaulting to 500'),{status:500,error:t}):{status:s,error:t}:{status:500,error:new Error(`"error" property returned from load() must be a string or instance of Error, received type "${typeof t}"`)}}if(e.redirect){if(!e.status||3!==Math.floor(e.status/100))return{status:500,error:new Error('"redirect" property returned from load() must be accompanied by a 3xx status code')};if("string"!=typeof e.redirect)return{status:500,error:new Error('"redirect" property returned from load() must be a string')}}return e}function je(e){const t=xe(e);let s=!0;return{notify:function(){s=!0,t.update((e=>e))},set:function(e){s=!1,t.set(e)},subscribe:function(e){let r;return t.subscribe((t=>{(void 0===r||s&&t!==r)&&e(r=t)}))}}}class Re{constructor({Root:e,layout:t,target:s,session:r,host:n}){this.Root=e,this.layout=t,this.host=n,this.router=null,this.target=s,this.started=!1,this.current={page:null,query:null,session_changed:!1,nodes:[],contexts:[]},this.caches=new Map,this.prefetching={id:null,promise:null},this.stores={page:je({}),navigating:xe(null),session:xe(r)},this.$session=null,this.root=null;const o=e=>{const t=ye(e.target);t&&t.hasAttribute("sveltekit:prefetch")&&this.prefetch(new URL(t.href))};let a;addEventListener("touchstart",o),addEventListener("mousemove",(e=>{clearTimeout(a),a=setTimeout((()=>{o(e)}),20)}));let i=!1;this.stores.session.subscribe((async e=>{if(this.$session=e,!i)return;this.current.session_changed=!0;const t=this.router.parse(new URL(location.href));this.update(t,[])})),i=!0}async start(e,t,s){const r={stores:this.stores,error:s,status:t,page:e.page};if(s)r.components=[this.layout.default];else{const t=await this._hydrate(e);if(t.redirect)return void(location.href=new URL(t.redirect,location.href).href);Object.assign(r,t.props),this.current=t.state}this.root=new this.Root({target:this.target,props:r,hydrate:!0}),this.started=!0}notify({path:e,query:t}){dispatchEvent(new CustomEvent("sveltekit:navigation-start")),this.stores.navigating.set({from:{path:this.current.page.path,query:this.current.page.query},to:{path:e,query:t}})}async update(e,t){const s=this.token={},r=await this._get_navigation_result(e);if(s===this.token){if(r.reload)location.reload();else if(r.redirect){if(!(t.length>10||t.includes(this.current.page.path)))return void this.router.goto(r.redirect,{replaceState:!0},[...t,this.current.page.path]);this.root.$set({status:500,error:new Error("Redirect loop")})}else this.current=r.state,this.root.$set(r.props),this.stores.navigating.set(null),await 0;dispatchEvent(new CustomEvent("sveltekit:navigation-end")),this.prefetching.promise=null,this.prefetching.id=null}}async prefetch(e){const t=this.router.parse(e);if(t)return this.prefetching.promise=this._get_navigation_result(t),this.prefetching.id=t.id,await this.prefetching.promise;throw new Error(`Could not prefetch ${e.href}`)}async _get_navigation_result(e){if(this.prefetching.id===e.id)return this.prefetching.promise;for(let t=0;t<e.routes.length;t+=1){const s=e.routes[t],[r,n,o]=s;if(1===s.length)return{reload:!0};let a=t+1;for(;a<e.routes.length;){const t=e.routes[a];if(t[0].toString()!==r.toString())break;1!==t.length&&t[1].forEach((e=>e())),a+=1}const i=n.map((e=>e())),l={host:this.host,path:e.path,params:o?o(s[0].exec(e.path)):{},query:e.query},c=await this._hydrate({nodes:i,page:l});if(c)return c}return{state:{page:null,query:null,session_changed:!1,contexts:[],nodes:[]},props:{status:404,error:new Error(`Not found: ${e.path}`)}}}async _hydrate({nodes:e,page:n}){const a={status:200,error:null,components:[]},i=(e,n)=>{if(!this.started){const n="string"==typeof e?e:e.url,o=document.querySelector(`script[type="svelte-data"][url="${n}"]`);if(o){const e=JSON.parse(o.textContent),{body:n}=e,a=((e,n)=>{var o={};for(var a in e)t.call(e,a)&&n.indexOf(a)<0&&(o[a]=e[a]);if(null!=e&&s)for(var a of s(e))n.indexOf(a)<0&&r.call(e,a)&&(o[a]=e[a]);return o})(e,["body"]);return Promise.resolve(new Response(n,a))}}return fetch(e,n)},l=n.query.toString(),c={page:n,query:l,session_changed:!1,nodes:[],contexts:[]},u=[this.layout,...e],h=[];let p,f;const d={params:Object.keys(n.params).filter((e=>!this.current.page||this.current.page.params[e]!==n.params[e])),query:l!==this.current.query,session:this.current.session_changed,context:!1};try{for(let e=0;e<u.length;e+=1){const t=this.current.nodes[e],s=this.current.contexts[e],{default:r,preload:m,load:g}=await u[e];if(a.components[e]=r,m)throw new Error("preload has been deprecated in favour of load. Please consult the documentation: https://kit.svelte.dev/docs#load");if(!t||r!==t.component||d.params.some((e=>t.uses.params.has(e)))||d.query&&t.uses.query||d.session&&t.uses.session||d.context&&t.uses.context){const t=n.path+l,s=this.caches.get(r),u=s&&s.get(t);let m,$;if(!u||d.context&&u.node.uses.context){m={component:r,uses:{params:new Set,query:!1,session:!1,context:!1}};const e={};for(const s in n.params)Object.defineProperty(e,s,{get:()=>(m.uses.params.add(s),n.params[s]),enumerable:!0});const t=this.$session;if(g&&($=await g.call(null,{page:{host:n.host,path:n.path,params:e,get query(){return m.uses.query=!0,n.query}},get session(){return m.uses.session=!0,t},get context(){return m.uses.context=!0,o({},p)},fetch:i}),!$))return}else({node:m,loaded:$}=u);if($){if($=Ee($),$.error)return a.error=$.error,a.status=$.status||500,c.nodes=[],{redirect:f,props:a,state:c};if($.redirect){f=$.redirect;break}if($.context&&(d.context=!0,p=o(o({},p),$.context)),$.maxage){this.caches.has(r)||this.caches.set(r,new Map);const e=this.caches.get(r),s={node:m,loaded:$};e.set(t,s);let n=!1;const o=setTimeout((()=>{a()}),1e3*$.maxage),a=()=>{e.get(t)===s&&e.delete(t),i(),clearTimeout(o)},i=this.stores.session.subscribe((()=>{n&&a()}));n=!0}h[e]=$.props}c.nodes[e]=m,c.contexts[e]=p}else c.nodes[e]=t,c.contexts[e]=p=s}(await Promise.all(h)).forEach(((e,t)=>{e&&(a[`props_${t}`]=e)})),this.current.page&&n.path===this.current.page.path&&!d.query||(a.page=n)}catch(m){a.error=m,a.status=500,c.nodes=[]}return{redirect:f,props:a,state:c}}}async function Oe({paths:e,target:t,session:s,error:r,status:n,nodes:o,page:a}){const i=new we({base:e.base,routes:ve}),l=new Re({Root:X,layout:ge,target:t,session:s,host:a.host});await l.start({nodes:o,page:a},n,r),i.init(l),dispatchEvent(new CustomEvent("sveltekit:start"))}export{Oe as start};
